"use client";
import { useEffect, useState } from "react";
import { useRouter } from "next/navigation";
import Image from "next/image";
import { ArrowRight, Star } from "lucide-react";
import Link from "next/link";

// ----------------------------------------------------
// 1. CONSTANTS & HELPER DATA
// ----------------------------------------------------
const ACCENT_COLOR = '#E9522D'; // New Accent: Orange/Red ‡∏à‡∏≤‡∏Å‡∏†‡∏≤‡∏û‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà 2
const GOLD_ACCENT = '#A37500'; // Gold Accent: ‡∏´‡∏≤‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÇ‡∏ó‡∏ô‡∏´‡∏£‡∏π‡∏´‡∏£‡∏≤‡πÅ‡∏ö‡∏ö‡πÄ‡∏î‡∏¥‡∏°
const PRIMARY_TEXT = 'text-gray-900';
const SECONDARY_TEXT = 'text-gray-600';

// ‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏° (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏â‡∏û‡∏≤‡∏∞ 3 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏´‡∏•‡∏±‡∏Å‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏ô‡πâ‡∏ô)
const insuranceServices = [
    {
        id: 1,
        title: "‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï",
        subtitle: "Life Insurance",
        description:
            "‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡∏£‡∏≠‡∏á‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡∏£‡∏±‡∏Å‡∏à‡∏≤‡∏Å‡∏´‡∏ô‡∏µ‡πâ‡∏™‡∏¥‡∏ô‚Äã‡∏î‡πâ‡∏ß‡∏¢‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‚Äã‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‚Äã‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏ô‡∏∂‡∏á ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏™‡πà‡∏á‡∏Ñ‡∏£‡∏ö‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô‚Äã 5‚Äã ‡∏õ‡∏µ‚Äã ‡πÄ‡∏ö‡∏¥‡∏Å‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î‡∏Ñ‡∏∑‡∏ô‡πÑ‡∏î‡πâ‡πÅ‡∏ö‡∏ö‡πÑ‡∏°‡πà‡∏Ç‡∏≤‡∏î‡∏ó‡∏∏‡∏ô‚Äã",
        features: ["‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡∏£‡∏≠‡∏á‡∏ï‡∏•‡∏≠‡∏î‡∏ä‡∏µ‡∏û", "‡∏ú‡∏•‡∏ï‡∏≠‡∏ö‡πÅ‡∏ó‡∏ô‡∏£‡∏∞‡∏¢‡∏∞‡∏¢‡∏≤‡∏ß", "‡∏•‡∏î‡∏´‡∏¢‡πà‡∏≠‡∏ô‡∏†‡∏≤‡∏©‡∏µ"],
        image: "/life-img.jpg",
        popular: false,
        path: "services/life-insurance",
    },
    {
        id: 2,
        title: "‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏≠‡∏≠‡∏°‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå",
        subtitle: "Saving Insurance",
        description:
            "‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏°‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡∏£‡∏≠‡∏á‚Äã ‡∏Ñ‡∏∑‡∏≠‚Äã ‡∏ú‡∏•‡∏ï‡∏≠‡∏ö‡πÅ‡∏ó‡∏ô‡∏à‡∏≤‡∏Å‡∏™‡πà‡∏ß‡∏ô‡∏ï‡πà‡∏≤‡∏á‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏ó‡∏µ‡πà‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡∏™‡∏π‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÉ‡∏ô‡∏ß‡∏á‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô IRR‚Äã 3% ‡πÅ‡∏ú‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡πÉ‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢‚Äã",
        features: ["‡∏ú‡∏•‡∏ï‡∏≠‡∏ö‡πÅ‡∏ó‡∏ô‡∏™‡∏π‡∏á (IRR 3%)", "‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏Ñ‡∏á‡∏ó‡∏µ‡πà", "‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡∏∑‡∏ô‡∏ó‡∏∏‡∏Å‡∏õ‡∏µ"],
        image: "/saving-img.png",
        popular: true,
        path: "services/saving-insurance",
    },
    {
        id: 3,
        title: "‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏ö‡∏≥‡∏ô‡∏≤‡∏ç",
        subtitle: "Pension Insurance",
        description:
            "‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡∏©‡∏µ‡∏¢‡∏ì‚Äã‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á‚Äã ‡∏Å‡∏≤‡∏£‡∏±‡∏ô‡∏ï‡∏µ‚Äã ‡∏°‡∏µ‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏ß‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‚Äã ‡∏û‡∏¥‡πÄ‡∏®‡∏©‚Äã‡∏Å‡∏ß‡πà‡∏≤‡πÉ‡∏Ñ‡∏£‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡∏ä‡∏î‡πÄ‡∏ä‡∏¢‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏ü‡πâ‡∏≠‡πÅ‡∏ö‡∏ö‡∏ó‡∏ö‡∏ï‡πâ‡∏ô‡πÉ‡∏´‡πâ‡∏ó‡∏∏‡∏Å‡∏õ‡∏µ",
        features: ["‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á", "‡∏•‡∏î‡∏´‡∏¢‡πà‡∏≠‡∏ô‡∏†‡∏≤‡∏©‡∏µ", "‡∏ä‡∏î‡πÄ‡∏ä‡∏¢‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏ü‡πâ‡∏≠"],
        image: "/pension-img.png",
        popular: false,
        path: "services/pension-insurance",
    },
    {
        id: 4,
        title: "‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à/Keyman",
        subtitle: "Keyman Insurance",
        description:
            "‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡∏£‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡∏õ‡∏Å‡∏õ‡πâ‡∏≠‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á‡∏°‡∏±‡πà‡∏á‡∏Ñ‡∏±‡πà‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡πÅ‡∏•‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡∏î‡∏π‡πÅ‡∏•‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ú‡∏•‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå‚Äã‡∏î‡πâ‡∏≤‡∏ô‡∏†‡∏≤‡∏©‡∏µ‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏î‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå‚Äã‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î", 
        features: ["‡∏•‡∏î‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô", "‡∏õ‡∏Å‡∏õ‡πâ‡∏≠‡∏á‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à", "‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡∏£‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏´‡∏•‡∏±‡∏Å"], 
        image: "/keyman-img.jpg",
        popular: false,
        path: "services/keyman-insurance",
    },
    {
        id: 5,
        title: "‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û",
        subtitle: "Health Insurance",
        description:
            "‡πÅ‡∏ú‡∏ô‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏≠‡∏∞‡πÑ‡∏£‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏õ‡πà‡∏ß‡∏¢‡∏Å‡πá‡πÑ‡∏î‡πâ‡πÉ‡∏ä‡πâ‚Äã ‡∏Å‡∏≤‡∏£‡∏±‡∏ô‡∏ï‡∏µ‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‚Äã ‡πÅ‡∏ñ‡∏°‡∏ü‡∏£‡∏µ‚Äã OPD‚Äã ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏° (‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡∏ï‡∏≤‡∏°‡πÅ‡∏ú‡∏ô)", 
        features: ["‡∏ü‡∏£‡∏µ OPD ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°", "‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏ü‡∏£‡∏µ", "‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏•‡∏∏‡∏°‡∏ó‡∏±‡πà‡∏ß‡πÇ‡∏•‡∏Å"], 
        image: "/health-img.png",
        popular: true,
        path: "services/health-insurance",
    },
    {
        id: 6,
        title: "‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏≠‡∏∏‡∏ö‡∏±‡∏ï‡∏¥‡πÄ‡∏´‡∏ï‡∏∏ PA",
        subtitle: "Accident Insurance", 
        description:
            "‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÉ‡∏Ñ‡∏£‡∏ó‡∏£‡∏≤‡∏ö‡∏´‡∏£‡∏∑‡∏≠‡∏ö‡∏≠‡∏Å‡πÄ‡∏£‡∏≤‡πÑ‡∏î‡πâ‡∏ß‡πà‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏à‡∏∞‡πÄ‡∏Å‡∏¥‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏´‡∏£‡πà‚Äã ‡πÄ‡∏à‡πá‡∏ö‡πÄ‡∏•‡πá‡∏Å‡πÄ‡∏à‡πá‡∏ö‡∏ô‡πâ‡∏≠‡∏¢‡πÄ‡∏à‡πá‡∏ö‡∏°‡∏≤‡∏Å‚Äã ‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏≤‡∏î‡∏π‡πÅ‡∏•‡∏Ñ‡∏£‡∏±‡∏ö‚Äã ‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡∏£‡∏≠‡∏á 24 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á", 
        features: ["‡∏à‡πà‡∏≤‡∏¢‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡∏¥‡∏î‡πÄ‡∏´‡∏ï‡∏∏", "‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û", "‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡∏£‡∏≠‡∏á 24 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á"],
        image: "/accident-img.png",
        popular: false,
        path: "services/accident-insurance",
    },
];

// ----------------------------------------------------
// 2. MAIN COMPONENT
// ----------------------------------------------------

export default function OurServicesZigzag() {
    const router = useRouter();

    // AOS Initialization (‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ)
    useEffect(() => {
        if (typeof window !== "undefined") {
            const AOS = require("aos");
            require("aos/dist/aos.css");
            AOS.init({ duration: 800, once: true, offset: 100 });
        }
    }, []);

    const handleClick = (path: string) => {
        router.push(path);
    };

    return (
        // üö© Light Mode Background
        <section
            className="bg-white py-24 px-4 sm:px-6 lg:px-8 overflow-hidden"
            id="services-zigzag"
        >
            {/* Header Section (‡∏ï‡∏≤‡∏°‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà 2) */}
            <div className="text-center mb-16 max-w-3xl mx-auto" data-aos="fade-up">
                <h2 className={`text-4xl font-bold tracking-tight ${ACCENT_COLOR}`}>
                    Services
                </h2>
                <div className="flex items-center justify-center mt-2 mb-4">
                    <div className="w-12 h-1 bg-gray-300 rounded-full"></div>
                    <HeartHandshake className={`w-5 h-5 mx-2 text-[${ACCENT_COLOR}]`} /> 
                    <div className="w-12 h-1 bg-gray-300 rounded-full"></div>
                </div>
                <h3 className={`text-xl font-medium ${PRIMARY_TEXT}`}>
                    ‡πÄ‡∏£‡∏≤‡∏ä‡πà‡∏ß‡∏¢‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?
                </h3>
            </div>

            {/* Zigzag Services Grid */}
            <div className="max-w-6xl mx-auto space-y-28">
                {insuranceServices.map((service, index) => (
                    <ServiceItem
                        key={service.id}
                        service={service}
                        index={index}
                        onClick={handleClick}
                    />
                ))}
            </div>
        </section>
    );
}

// ----------------------------------------------------
// 3. HELPER COMPONENTS
// ----------------------------------------------------

// Icon ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÉ‡∏ô Header
const HeartHandshake = ({ className }: { className: string }) => (
    <svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <path d="M11 19C7.4 19 4 16.5 4 12C4 8.5 7.4 3 12 3C16.6 3 20 8.5 20 12C20 16.5 16.6 19 13 19"></path>
        <path d="M12 3C12 3 12 12 12 12"></path>
        <path d="M16 19L18 21"></path>
        <path d="M8 19L6 21"></path>
    </svg>
);


interface Service {
    id: number;
    title: string;
    subtitle: string;
    description: string;
    image: string;
    path: string;
    popular: boolean;
}

const ServiceItem = ({ service, index, onClick }: { 
    service: Service, 
    index: number, 
    onClick: (path: string) => void 
}) => {
    // ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ß‡πà‡∏≤ Content ‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏≤‡∏á‡∏Ç‡∏ß‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡∏ã‡πâ‡∏≤‡∏¢
    const isOdd = index % 2 !== 0;

    return (
        <div
            className={`grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-20 items-center`}
            data-aos={isOdd ? "fade-left" : "fade-right"}
        >
            {/* 1. Image Container (‡∏™‡∏•‡∏±‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á) */}
            <div className={`relative ${isOdd ? 'lg:order-2' : 'lg:order-1'}`} data-aos="zoom-in" data-aos-delay="200">
                {/* üö© Image Style: ‡πÉ‡∏ä‡πâ Container ‡πÄ‡∏õ‡πá‡∏ô Blob Shape (‡πÇ‡∏Ñ‡πâ‡∏á‡∏°‡∏ô‡∏°‡∏≤‡∏Å ‡πÜ) */}
                <div className={`w-full aspect-[4/3] bg-gray-100 rounded-[50px_100px_50px_100px] lg:rounded-[100px_50px_100px_50px] overflow-hidden shadow-2xl transition-transform duration-500 hover:scale-[1.02] border border-gray-200`}>
                    <Image
                        src={service.image}
                        alt={service.title}
                        fill
                        className="object-cover w-full h-full opacity-90"
                    />
                </div>
            </div>

            {/* 2. Content Container */}
            <div className={`${isOdd ? 'lg:order-1 text-right' : 'lg:order-2 text-left'} space-y-4`}>
                {service.popular && (
                    <div className={`inline-flex items-center px-4 py-1 mb-2 rounded-full bg-red-500 text-white text-xs font-bold uppercase ${isOdd ? 'float-right lg:float-right' : 'float-left lg:float-left'}`}>
                         <Star className="w-3 h-3 mr-1 fill-white" />
                         ‡∏¢‡∏≠‡∏î‡∏ô‡∏¥‡∏¢‡∏°
                    </div>
                )}
                
                <h3 className={`text-3xl lg:text-4xl font-bold ${PRIMARY_TEXT} leading-tight pt-5`}>
                    {service.title}
                </h3>
                
                <p className={`text-xl font-medium text-[${GOLD_ACCENT}]`}>
                    {service.subtitle}
                </p>

                <p className={`${SECONDARY_TEXT} text-base leading-relaxed`}>
                    {service.description}
                </p>

                <Link
                    href={`/${service.path}`}
                    className={`inline-flex items-center px-6 py-3 font-semibold text-white text-base rounded-full transition-all duration-300 shadow-md ${isOdd ? 'bg-gray-800 hover:bg-gray-700' : `bg-[${ACCENT_COLOR}] hover:bg-red-600`}`}
                >
                    ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î
                    <ArrowRight className={`w-4 h-4 ml-2 transition-transform duration-300 ${isOdd ? 'group-hover:-translate-x-1' : 'group-hover:translate-x-1'}`} />
                </Link>
            </div>
        </div>
    );
};